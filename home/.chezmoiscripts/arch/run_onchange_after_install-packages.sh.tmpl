#!/bin/bash

{{ if eq .chezmoi.os "linux" -}}
{{ if eq .chezmoi.osRelease.id "arch" -}}

packages=(
    air-bin
    arp-scan
    autoconf
    base
    base-devel
    bat
    bind
    borders
    bun-bin
    cloudflared
    cmake
    composer
    consolas-font
    curl
    direnv
    dmidecode
    dmraid
    docker
    docker-compose
    downgrade
    esbuild
    fd
    ffmpeg
    ffmpegthumbnailer
    fuse-overlayfs
    fzf
    gettext
    git
    git-delta
    github-cli
    gleam
    gnu-netcat
    go
    goreleaser
    hyperfine
    imagemagick
    inetutils
    iwd
    jq
    julia
    just
    lazygit
    less
    libaio
    libldm
    lynx
    make
    mysql-clients
    mono
    ncdu
    neofetch
    neovim
    ngrok
    ninja
    nmap
    node
    nodejs-lts-iron
    noto-fonts-emoji
    npm
    nushell
    oh-my-zsh-git
    openssh
    paru-bin
    pipx
    pkgconf
    plow
    pnpm
    poppler
    postgresql
    prettierd
    pscale-cli-bin
    pspg
    pv
    pyenv
    python
    reflector
    ripgrep
    rsync
    sevenzip
    speedtest-cli
    sshfs
    sshuttle
    sst-bin
    starship
    sudo
    syncthing
    sysbench
    tailscale
    terraform
    tmux
    tmux-plugin-manager
    traceroute
    typescript
    unison
    unrar
    unzip
    uv
    vercel
    wget
    xclip
    yazi
    yt-dlp
    zellij
    zip
    zoxide
    zsh
    zsh-syntax-highlighting
    btop
    cronie
    elixir
    gitwatch-git
    iperf3
    linux
    linux-firmware
    lsof
    mariadb-clients
    exfat-utils
    iw
    stow
    nfs-utils
    rustup
)

# Check if paru is installed
if ! command -v paru &> /dev/null; then
    echo "Installing paru..."
    git clone https://aur.archlinux.org/paru.git
    cd paru
    makepkg -si --noconfirm
    cd ..
    rm -rf paru
fi

# Install packages
echo "Installing packages..."
paru -Sy --needed --noconfirm "${packages[@]}"

echo "Package installation complete!"

{{ end -}}
{{ end -}}
